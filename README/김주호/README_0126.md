# 22.01.26

## API 작성

### 네이버 로그인 API와 DB 연동 로직 체크

개인적으로 맡고 있던 네이버 로그인을 어떻게 해야 할 지 항상 고민이었다. 네이버에서 권유하는 보안을 지키면서도, 간단하게 로그인을 유지할 방법이 떠오르지 않았는데, 회의 중 '네이버 로그인은 유저의 이메일만을 얻어오는걸로 하고, 바로 토큰을 비활성화 시키는 등의 방법은 어떨까요?' 라는 얘기가 나왔다.

그렇게 한다면 두가지 방법이 존재했다.

- 토큰을 발급받아 이메일을 얻어오고, 두 토큰을 DB에 저장하여 토큰 만료 및 재발행 등을 유지한다.
- 토큰을 발급받아 이메일을 얻어오고, 곧바로 토큰을 삭제한다. 로그인은 Vue에 userId(PK)값을 넘기고 해당 값이 지속될 동안만(탭을 닫기 전까지만) 로그인을 유지한다.

위와 같은 방법들이 더 안전할 것만 같았다. 타 서비스도 아니고 게임페이지면서, 민감한 정보를 다루는 웹이 아니기 때문이다. 오히려 토큰값 때문에 안절부절하는 것보다 나아보였다.

물론 그러려면 지금 Vue 로그인 구조를 살짝 바꿔야 하겠지만, 내일이나 다음주 중으로 바꿔놓자고 생각했다.

### 기타 API 회의 및 확정

로그인, 방 세션, 게임 진행에 필요한 api들을 회의하며 구조를 확정했다. 대부분은 웹소켓에 의해 서버단에서 뿌려주는 것들이라 생각보다 많이 나오지 않았고, 합칠 수 있는 것들은 대부분 하나로 통일했다.

승수님께서 postman을 통해 깔끔하게 정리해주셨다. 사용법을 몰랐기에 승수님 공유화면을 보면서 하는 법을 익혔다.

## MariaDB 도커 업로드

도커 내에서 MariaDB를 바로 받을 수 있었다. 의외로 손쉽게 설치되었다.
