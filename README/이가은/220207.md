# 220207_Readme

### To Do List

âœ… OpenVidu ì‚¬ìš©ìê°€ ì°½ì—ì„œ ë‚˜ê°ˆ ë•Œ, ë‚¨ì•„ìˆëŠ” ì˜¤ë¥˜
âœ… OpenVidu í™”ë©´ ë°°ì—´ ê¹¨ì§€ëŠ” ì˜¤ë¥˜
âœ… Mainí™”ë©´ í´ë¦­ ì‹œ ë¼ìš°í„° ë³€ê²½
âœ… Component ì´ë¦„ ë³€ê²½
â¬œ ì˜ìƒ í´ë¦­ì‹œ ê¸ˆì•¡ ì…ë ¥ ì°½ ë„ìš°ê¸°

---

### ğŸ“TIL

### OpenVidu ì‚¬ìš©ìê°€ ì°½ì—ì„œ ë‚˜ê°ˆ ë•Œ, ë‚¨ì•„ìˆëŠ” ì˜¤ë¥˜

OpenViduì—ì„œ ì‚¬ìš©ìê°€ ë‚˜ê°€ë„ ì´ë¦„ê³¼ í™”ë©´ì´ ë‚¨ì•„ìˆëŠ” ì˜¤ë¥˜ë¥¼ ë°œê²¬í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì— ë”°ë¼ ì½”ë“œë¥¼ í™•ì¸í•œ ê²°ê³¼ leaveSession()ì´ ì—†ìŒì„ ì•Œê²Œë˜ì—ˆìŠµë‹ˆë‹¤.

```javascript
leaveSession () {
      // --- Leave the session by calling 'disconnect' method over the Session object ---
      if (this.session) this.session.disconnect();

      this.session = undefined;
      this.mainStreamManager = undefined;
      this.publisher = undefined;
      this.subscribers = [];
      this.OV = undefined;

      window.removeEventListener('beforeunload', this.leaveSession);
		},
```



### OpenVidu í™”ë©´ ë°°ì—´ ê¹¨ì§€ëŠ” ì˜¤ë¥˜

 ì›ë˜ openViduì—ì„œ ì‚¬ìš©ì í™”ë©´ì„ ì¶œë ¥í•  ë•Œ

```html
<user-video
    v-for="sub in subscribers"
    :key="sub.stream.connection.connectionId"
    :stream-manager="sub"
    @click="updateMainVideoStreamManager(sub)" />
```

ì™€ ê°™ì´ subscribersì—ì„œ subë¥¼ forë¬¸ìœ¼ë¡œ ì¶œë ¥í•˜ì—¬ ì˜ìƒì„ ì œê³µí•©ë‹ˆë‹¤. í•˜ì§€ë§Œ, ì €í¬ í”„ë¡œì íŠ¸ì—ì„œëŠ” 

![image-20220208091832216](220207.assets/image-20220208091832216.png)

ì™€ ê°™ì´ ì‚¬ìš©ìì˜ í™”ë©´ì„ ë“¤ì–´ì˜¨ ìˆœì„œì— ë”°ë¼ ìë¦¬ë¥¼ ë°°ì¹˜í•˜ê³  ì‹¶ì–´ì„œ ë°°ì—´ì„ ì‚¬ìš©í•˜ì—¬

```html
<user-video
    :stream-manager="this.subscribers[0]" />
<user-video
    :stream-manager="this.subscribers[1]" />
```

ë“±ê³¼ ê°™ì´ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, ì´ë ‡ê²Œ indexë¡œ ì ‘ê·¼í•˜ì—¬ í™”ë©´ ì†¡ì¶œì„ í•˜ë‹¤ë³´ë‹ˆ ë¨¼ì € ë“¤ì–´ì˜¨ userê°€ leave sessionì„ í•  ì‹œ ë’¤ì— ìˆë˜ userë“¤ì´ ì•ìœ¼ë¡œ indexê°€ ë„˜ì–´ì˜¤ë©´ì„œ í™”ë©´ê³¼ ì˜¤ë””ì˜¤ê°€ ë”°ë¼ì˜¤ì§€ ëª»í•˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤. ì´ì— ë”°ë¼ **ì•„ì§ ìˆ˜ì •ì¤‘ì— ìˆìŠµë‹ˆë‹¤..ã… ã… **



### Mainí™”ë©´ í´ë¦­ ì‹œ ë¼ìš°í„° ë³€ê²½

```vue
<template>
	<button
        type="button"
        class="btn mj-btn"
        @click="[leaveSession(), goBack()]">
        ë©”ì¸í™”ë©´ìœ¼ë¡œ
    </button>
</template>
<script>
    methods: {
        goBack() {
          this.$router.push({ name: 'Game' })
        },
        leaveSession() {
          this.$emit('leave-session')
        }
      }
</script>
```

click eventì— 2ê°œì˜ í•¨ìˆ˜ ì„¤ì •

---

### ì˜ìƒ í´ë¦­ ì‹œ ê¸ˆì•¡ ì…ë ¥ ì°½ ì¶œë ¥

ëª¨ë‹¬ë¡œ êµ¬í˜„í• ê¹Œ ê³ ë¯¼í–ˆì§€ë§Œ, data í†µì‹ ì„ ì›í™œí•˜ê²Œ í•˜ê¸° ìœ„í•˜ì—¬ componentë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤. ë‚´ì¼ í™”ì´íŒ…..!