22.01.24

## 백엔드 설계를 위한 readme

---

### 개요

- 백엔드 설계에 필요한 정보를 작성하기 위함
- API 명세 위주로 작성

### 백엔드 API

- 유저 관리, 로그인 관련 API (/user)
  - Create : 프론트로부터 받아온 정보를 통해 유저 생성(회원가입)
  - Read : 유저 Email 등을 받아 해당 유저 정보를 반환
    - 로그인 시, 랭킹 정보 출력 시

  - Update : 유저가 게임을 완료하면 경험치 및 랭킹 정보를 업데이트 후 반환
  - Delete : 발표 때는 넣기, 기능 구현은 후순위
  - Login
  - Logout

- 게임방 관리 API (/room)
  - Create : 유저 id를 통해 게임 방 생성 후 초대 코드 등 방 정보 반환
  - Read : 방 입장 시 초대 코드를 통해 방 정보 반환
  - Update : 호스트가 퇴장하면 다른 유저를 호스트로 지정
  - Delete : 호스트 유저가 또다른 방을 생성하면 이전 방을 삭제 후 처리
    - 일정 시간(24hr)마다 오래된 게임 방 일괄 삭제


### 백엔드 기능 - 정리 후 API로 올리기

- WebRTC 관련 기능
  - OpenVidu를 통한 Many to Many 통신
- 게임 생성 및 관리 기능
  - 게임 방 <-> 플레이어의 1 : n 연결을 서버 인스턴스로 관리 및 유지
- 게임 진행 기능
  - 현재 상태와 요청(플레이어 id와 숫자 등을 통해 진행되도록 설계 필요)



게임은 클라이언트가 요청하지 않아도 서버에서 정보를 전달해야 함 > 소켓 필요

본래 인스턴스로 관리하려던 구조를 key-value 형식의 Redis 캐시 서비스로 구현해야 할 듯함
